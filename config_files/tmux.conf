set -g @plugin 'christoomey/vim-tmux-navigator'
set -g @plugin 'dracula/tmux'
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-copycat'
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'wfxr/tmux-fzf-url'

# dracula customisation
set -g @dracula-show-powerline true
set -g @dracula-show-timezone false
set -g @dracula-show-fahrenheit false
set -g @dracula-show-left-icon ‚å®
set -g @dracula-show-flags true
set -g @dracula-show-network false # useless on WSL
set -g @dracula-ram-usage false # useless on WSL
# resurrect pane customisation
set -g @resurrect-capture-pane-contents 'on'
# include html files in fzf-url search
set -g @fzf-url-extra-filter 'grep -oE "\b[a-zA-Z]+\.html\b"'

# Maps and settings ported from Oh-my-tmux: https://github.com/gpakosz/.tmux
unbind C-a
set -g prefix C-a
# Edit and source this tmux config file
bind e new-window -n "~/.tmux.conf" "EDITOR=\${EDITOR//mvim/vim} && EDITOR=\${EDITOR//gvim/vim} && \${EDITOR:-vim} ~/.tmux.conf && tmux source ~/.tmux.conf && tmux display \"~/.tmux.conf sourced\""
# pane resizing
bind -r H resize-pane -L 2
bind -r J resize-pane -D 2
bind -r K resize-pane -U 2
bind -r L resize-pane -R 2
bind + resize-pane -Z         # maximize pane
set -g base-index 1           # start windows numbering at 1
setw -g pane-base-index 1     # make pane numbering consistent with windows
set -g renumber-windows on    # renumber windows when a window is closed

bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"
bind C-t new-window -c "#{pane_current_path}"
bind -n C-M-k kill-session
bind -n C-s set-window-option synchronize-panes
bind -n F5 respawn-pane -k
unbind c
bind c run "~/.tmux/working-directory-sync"

# don't rename windows automatically
set-option -g allow-rename off

# tell Tmux that outside terminal supports true color
set -g default-terminal "screen-256color"
set -ga terminal-overrides ",xterm-256color*:Tc"
set -g mouse on
set-option -sg escape-time 20
set-option -g focus-events on

# Load tmux plugins:
# prefix, I to install new plugins listed in this file
# prefix, U to update plugins
# prefix, alt + u to uninstall unused (installed but not listed) plugins
run '~/.tmux/plugins/tpm/tpm'
